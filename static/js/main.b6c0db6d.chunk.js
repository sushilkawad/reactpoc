(this.webpackJsonpecomm=this.webpackJsonpecomm||[]).push([[0],{28:function(e){e.exports=JSON.parse('[{"name":"Samsung Series 4","image":"https://rukminim1.flixcart.com/image/670/600/allinone-desktop/d/n/q/apple-imac-21-5-inch-4k-retina-core-i5-3-1ghz-8gb-1tb-intel-iris-original-imaeh5h83fuzbksz.jpeg?q=90","price":{"actual":13999,"display":22500},"discount":37},{"name":"Samsung Super 6","image":"https://rukminim1.flixcart.com/image/670/600/allinone-desktop/d/n/q/apple-imac-21-5-inch-4k-retina-core-i5-3-1ghz-8gb-1tb-intel-iris-original-imaeh5h83fuzbksz.jpeg?q=90","price":{"actual":35999,"display":66900},"discount":46},{"name":"Samsung The Frame","image":"https://rukminim1.flixcart.com/image/670/600/allinone-desktop/d/n/q/apple-imac-21-5-inch-4k-retina-core-i5-3-1ghz-8gb-1tb-intel-iris-original-imaeh5h83fuzbksz.jpeg?q=90","price":{"actual":84999,"display":133900},"discount":36},{"name":"Thomson B9 Pro","image":"https://rukminim1.flixcart.com/image/670/600/allinone-desktop/d/n/q/apple-imac-21-5-inch-4k-retina-core-i5-3-1ghz-8gb-1tb-intel-iris-original-imaeh5h83fuzbksz.jpeg?q=90","price":{"actual":9999,"display":16999},"discount":41},{"name":"LG Ultra HD","image":"https://rukminim1.flixcart.com/image/670/600/allinone-desktop/d/n/q/apple-imac-21-5-inch-4k-retina-core-i5-3-1ghz-8gb-1tb-intel-iris-original-imaeh5h83fuzbksz.jpeg?q=90","price":{"actual":39990,"display":79990},"discount":50},{"name":"Vu Ready LED TV","image":"https://rukminim1.flixcart.com/image/670/600/allinone-desktop/d/n/q/apple-imac-21-5-inch-4k-retina-core-i5-3-1ghz-8gb-1tb-intel-iris-original-imaeh5h83fuzbksz.jpeg?q=90","price":{"actual":7999,"display":17000},"discount":52},{"name":"Koryo Android TV","image":"https://rukminim1.flixcart.com/image/670/600/allinone-desktop/d/n/q/apple-imac-21-5-inch-4k-retina-core-i5-3-1ghz-8gb-1tb-intel-iris-original-imaeh5h83fuzbksz.jpeg?q=90","price":{"actual":55999,"display":199990},"discount":71},{"name":"Micromax LED Smart","image":"https://rukminim1.flixcart.com/image/670/600/allinone-desktop/d/n/q/apple-imac-21-5-inch-4k-retina-core-i5-3-1ghz-8gb-1tb-intel-iris-original-imaeh5h83fuzbksz.jpeg?q=90","price":{"actual":9999,"display":27990},"discount":64}]')},34:function(e,t,n){},35:function(e,t,n){},37:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),i=n(27),s=n.n(i),r=(n(34),n(25)),l=n(9),o=n(15),u=n(16),j=n(20),d=n(19),b=(n(35),n(28)),m=n(10),h=n.n(m),p=n(17),x=n(4),O=n(18),f=n.n(O),g=n(2),v=(n(37),n(0)),y=c.a.memo((function(){var e=Object(a.useContext)(A),t=e.cart,n=(e.handleSearch,Object(a.useState)("")),c=Object(x.a)(n,2),i=(c[0],c[1],t.reduce((function(e,t){return e+t.quantity}),0),Object(g.f)().pathname,Object(a.useState)(null)),s=Object(x.a)(i,2),r=s[0],l=s[1],o=Object(a.useRef)(null),u=Object(a.useCallback)(Object(p.a)(h.a.mark((function e(){var t,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.current.getScreenshot(),e.next=3,fetch(t).then((function(e){return e.blob()}));case 3:n=e.sent,(a=new FormData).append("image",n,"image.jpeg"),console.log("aaa blob",n.size),console.log("aaa f",a),alert("size in MB: "+n.size/1e6),l(t);case 10:case"end":return e.stop()}}),e)}))),[o]);return Object(v.jsx)("div",{style:{textAlign:"center"},children:null===r?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(f.a,{imageSmoothing:!0,audio:!1,height:"70%",width:"90%",ref:o,screenshotFormat:"image/jpeg",screenshotQuality:1,ImageSmoothingQuality:"high",resizeQuality:"high",videoConstraints:{width:{min:480},height:{min:720},facingMode:{exact:"environment"}}}),Object(v.jsx)("br",{}),Object(v.jsx)("button",{onClick:u,style:{marginTop:20},children:"Capture photo"})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("img",{src:r,alt:"screenshot"}),Object(v.jsx)("br",{}),Object(v.jsx)("button",{onClick:function(){return l(null)},style:{marginTop:20},children:"Retake"})]})})}));var k=function(){return Object(v.jsx)(A.Consumer,{children:function(e){var t=e.cart,n=e.decreaseQuantity,a=e.increaseQuantity,c=t.reduce((function(e,t){return e+t.quantity}),0);return c>0&&Object(v.jsx)("div",{className:"cart-items",children:Object(v.jsxs)("table",{className:"border-tb",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{className:"first-tr border-tb",children:[Object(v.jsxs)("th",{children:["Items(",c,")"]}),Object(v.jsx)("th",{children:"Qty"}),Object(v.jsx)("th",{children:"Price"})]})}),Object(v.jsx)("tbody",{children:t.map((function(e){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.name}),Object(v.jsxs)("td",{children:[Object(v.jsx)("button",{onClick:function(){return n(e.name)},children:"-"}),e.quantity,Object(v.jsx)("button",{onClick:function(){return a(e.name)},children:"+"})]}),Object(v.jsxs)("td",{children:["$",e.price.display]})]},e.name)}))})]})})}})};var C=function(){var e=Object(a.useContext)(A).cart,t=e.reduce((function(e,t){return e+t.quantity}),0),n=e.reduce((function(e,t){return e+t.price.display*t.quantity}),0),c=e.reduce((function(e,t){return e+t.price.actual*t.quantity}),0),i=n-c;return t>0&&Object(v.jsxs)("div",{className:"checkout border-1",children:[Object(v.jsx)("div",{children:"Total"}),Object(v.jsxs)("div",{children:[Object(v.jsxs)("span",{children:["Items(",t,")"]}),Object(v.jsx)("span",{children:":"}),Object(v.jsxs)("span",{children:["$",n]})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("span",{children:"Discount"}),Object(v.jsx)("span",{children:":"}),Object(v.jsxs)("span",{children:["-$",i]})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("span",{children:"Type Discount"}),Object(v.jsx)("span",{children:":"}),Object(v.jsx)("span",{children:"-$0"})]}),Object(v.jsxs)("div",{className:"bg-gray",children:[Object(v.jsx)("span",{children:"Order Total"}),Object(v.jsx)("span",{children:":"}),Object(v.jsxs)("span",{children:["$",c]})]})]})};var N=function(){return Object(v.jsxs)("aside",{className:"flex-1 p-10",children:[Object(v.jsx)(k,{}),Object(v.jsx)(C,{})]})},S=c.a.memo((function(e){var t=e.label,n=void 0===t?"Add to cart":t,a=e.clickFunction,c=void 0===a?function(){return!1}:a;return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("button",{className:"btn-atc",onClick:function(){return c()},children:n})})}));var z=function(e){var t=e.price;return Object(v.jsxs)("p",{children:[Object(v.jsxs)("span",{className:"line-through",children:["Rs. ",t.display]}),Object(v.jsxs)("strong",{children:["Rs. ",t.actual]})]})};var q=function(e){var t=e.text,n=e.header,a=e.label;return n?Object(v.jsx)("h2",{className:"flex-1",children:t}):a?Object(v.jsx)("div",{className:"discount-tag bg-green p-5-10",children:t}):Object(v.jsx)("p",{children:t})},w=c.a.memo((function(e){var t=e.item,n=Object(a.useContext)(A),c=Object(g.f)();return Object(v.jsxs)("div",{className:"single-item border-1",children:[Object(v.jsxs)("div",{className:"item-image",children:[Object(v.jsx)(q,{text:"".concat(t.discount," % off"),label:!0}),Object(v.jsx)("img",{alt:t.name,src:t.image})]}),Object(v.jsxs)("div",{className:"item-footer bg-gray p-10 d-flex justify-content-space-between",children:[Object(v.jsxs)("div",{children:[Object(v.jsx)(q,{text:t.name}),Object(v.jsx)(z,{price:t.price})]}),"/cart"!==c.pathname&&Object(v.jsx)("div",{className:"add-to-cart-wrapper",children:Object(v.jsx)(S,{label:"Add to cart",clickFunction:function(){return n.addToCart(t)}})})]})]})}));function F(){var e=Object(a.useContext)(A).cart;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("main",{className:"cart-page d-flex flex-2 flex-wrap p-10 gap-10",children:e.map((function(e){return Object(v.jsx)(w,{item:e},e.name)}))}),Object(v.jsx)(N,{})]})}n(44);var I=function(){var e,t,n=Object(a.useContext)(A),c=n.allItems,i=n.applyRange,s=null===(e=c.slice().sort((function(e,t){return e.price.actual-t.price.actual}))[0])||void 0===e?void 0:e.price.actual,r=null===(t=c.slice().sort((function(e,t){return t.price.actual-e.price.actual}))[0])||void 0===t?void 0:t.price.actual,l=Object(a.useState)(0),o=Object(x.a)(l,2),u=o[0],j=o[1];return Object(v.jsxs)("div",{className:"main-filter",children:[Object(v.jsx)("h3",{children:"Filter"}),Object(v.jsxs)("div",{className:"d-flex justify-content-space-between",children:[Object(v.jsxs)("span",{children:["Rs. ",s]}),Object(v.jsxs)("span",{children:["Rs. ",u||s]}),Object(v.jsxs)("span",{children:["Rs. ",r]})]}),Object(v.jsx)("div",{children:Object(v.jsx)("input",{type:"range",value:u,onChange:function(e){e.preventDefault(),j(e.target.value)},min:s,max:r})}),Object(v.jsx)("div",{className:"d-flex justify-content-center",children:Object(v.jsx)("button",{onClick:function(){return i(u)},children:"Apply"})})]})};n(45);var T=function(e){var t,n,c=e.sortBy,i=e.isOpen,s=i.status,r=i.modalName,o=e.handleModal,u=e.data,j=u.sortArray,d=(u.filter,Object(a.useState)("")),b=Object(x.a)(d,2),m=b[0],h=b[1],p=Object(a.useContext)(A),O=p.allItems,f=p.applyRange,g=null===(t=O.slice().sort((function(e,t){return e.price.actual-t.price.actual}))[0])||void 0===t?void 0:t.price.actual,y=null===(n=O.slice().sort((function(e,t){return t.price.actual-e.price.actual}))[0])||void 0===n?void 0:n.price.actual,k=Object(a.useState)(0),C=Object(x.a)(k,2),N=C[0],S=C[1];return Object(v.jsx)("div",{id:"open-modal",className:s?"modal-open modal-window":"modal-window",children:Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"sort"===r?"Sort Options":"Filter Options"}),Object(v.jsx)("div",{children:"sort"===r?j.map((function(e){return Object(v.jsxs)("div",{children:[Object(v.jsx)("input",{name:"sort",type:"radio",defaultValue:e.title,onChange:function(){return h(e.title)},defaultChecked:m===e.title})," ",e.title]},e.title)})):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"d-flex justify-content-space-between",children:[Object(v.jsxs)("span",{children:["Rs. ",g]}),Object(v.jsxs)("span",{children:["Rs. ",N||g]}),Object(v.jsxs)("span",{children:["Rs. ",y]})]}),Object(v.jsx)("div",{children:Object(v.jsx)("input",{type:"range",value:N,onChange:function(e){return S(e.target.value)},min:g,max:y})})]})})]}),Object(v.jsxs)("div",{className:"modal-actions d-flex justify-content-space-between",children:[Object(v.jsx)("a",{onClick:function(){o(!1),"sort"===r?c.apply(void 0,Object(l.a)(j.find((function(e){return e.title===m})).arguments)):f(N)},children:"Apply"}),Object(v.jsx)("a",{onClick:function(){return o(!1)},children:"Close"})]})]})})},R=(n(46),c.a.memo((function(){var e=Object(a.useContext)(A),t=e.flashMessage,n=e.sortBy,c=[{title:"Price-High",active:!1,arguments:["price","desc"]},{title:"Price-Low",active:!1,arguments:["price","asc"]},{title:"Discount",active:!1,arguments:["discount","desc"]}],i=Object(a.useState)(c),s=Object(x.a)(i,2),r=s[0],o=s[1],u=Object(a.useState)({status:!1,modalName:""}),j=Object(x.a)(u,2),d=j[0],b=j[1];var m={sortArray:c,filter:Object(v.jsx)(I,{})};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("header",{className:"hideOnMobile border-tb d-flex",children:[Object(v.jsx)("div",{className:"sortby",children:r.map((function(e){return Object(v.jsx)("span",{className:e.active?"active":"",onClick:function(){!function(e){var t=c.map((function(t){return t.title===e?(t.active=!0,t):t}));o(t)}(e.title),n.apply(void 0,Object(l.a)(e.arguments))},children:e.title},e.title)}))}),Object(v.jsx)("div",{className:"flashmessage flex-2 d-flex align-items-center",children:t&&Object(v.jsx)(q,{text:t,label:!0})})]}),Object(v.jsxs)("header",{className:"hideOnDesktop mobile-header border-tb",children:[Object(v.jsx)("div",{onClick:function(){return b({status:!0,modalName:"sort"})},children:"Sort"}),Object(v.jsx)("div",{onClick:function(){return b({status:!0,modalName:"filter"})},children:"Filter"})]}),Object(v.jsx)(T,{isOpen:d,sortBy:n,data:m,handleModal:b})]})})));function M(){var e=Object(a.useContext)(A),t=e.allItems,n=e.filteredItems,c=n.length>0?n:t;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("aside",{className:"hideOnMobile filter-wrapper d-flex flex-direction-column flex-1",children:Object(v.jsx)(I,{})}),Object(v.jsxs)("main",{className:"home-page flex-3 home-main p-10",children:[Object(v.jsx)(R,{}),Object(v.jsx)("div",{className:"d-flex",children:Object(v.jsx)("main",{className:"d-flex flex-2 flex-wrap p-10 gap-10",children:c.map((function(e){return Object(v.jsx)(w,{item:e},e.name)}))})})]})]})}var Q=function(){var e=Object(a.useState)(null),t=Object(x.a)(e,2),n=t[0],c=t[1],i=Object(a.useRef)(null),s=Object(a.useCallback)(Object(p.a)(h.a.mark((function e(){var t,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.current.getScreenshot(),e.next=3,fetch(t).then((function(e){return e.blob()}));case 3:n=e.sent,(a=new FormData).append("image",n,"image.jpeg"),console.log("aaa blob",n.size),console.log("aaa f",a),alert("size in MB: "+n.size/1e6),c(t);case 10:case"end":return e.stop()}}),e)}))),[i]);return Object(v.jsx)("div",{style:{textAlign:"center"},children:null===n?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(f.a,{imageSmoothing:!0,audio:!1,height:"70%",width:"90%",ref:i,screenshotFormat:"image/jpeg",screenshotQuality:1,ImageSmoothingQuality:"high",resizeQuality:"high",videoConstraints:{width:{min:480},height:{min:720}}}),Object(v.jsx)("br",{}),Object(v.jsx)("button",{onClick:s,style:{marginTop:20},children:"Capture photo"})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("img",{src:n,alt:"screenshot"}),Object(v.jsx)("br",{}),Object(v.jsx)("button",{onClick:function(){return c(null)},style:{marginTop:20},children:"Retake"})]})})};var D=function(){return Object(v.jsxs)(g.c,{children:[Object(v.jsx)(g.a,{path:"/qr",children:Object(v.jsx)(Q,{})}),Object(v.jsx)(g.a,{path:"/cart",children:Object(v.jsx)(F,{})}),Object(v.jsx)(g.a,{exact:!0,path:"/",children:Object(v.jsx)(M,{})})]})},B=n(11),A=c.a.createContext(),L=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).addToCart=function(e){var t,n=e.name,c=a.state.cart;t=c.find((function(e){return e.name===n}))?c.map((function(e){return e.name===n&&(e.quantity=e.quantity+1),e})):[].concat(Object(l.a)(c),[Object(r.a)(Object(r.a)({},e),{},{quantity:1})]),console.log(t),a.setState({cart:t,flashMessage:"".concat(n," is added to cart")})},a.decreaseQuantity=function(e){var t=a.state.cart.map((function(t){return e===t.name?(t.quantity=t.quantity-1,t):t})).filter((function(e){return 0!==e.quantity}));a.setState({cart:t})},a.increaseQuantity=function(e){var t=a.state.cart.map((function(t){return e===t.name?(t.quantity=t.quantity+1,t):t}));a.setState({cart:t})},a.applyRange=function(e){var t=a.state.items.filter((function(t){return t.price.actual<e}));a.setState({filteredItems:t})},a.sortBy=function(e,t){var n=a.state,c=n.items,i=n.filteredItems,s=i,r=c;i.length>0?s="discount"===e?i.sort((function(n,a){return"desc"===t?a[e]-n[e]:n[e]-a[e]})):i.sort((function(n,a){return"desc"===t?a[e].actual-n[e].actual:n[e].actual-a[e].actual})):r="discount"===e?c.sort((function(n,a){return"desc"===t?a[e]-n[e]:n[e]-a[e]})):c.sort((function(n,a){return"desc"===t?a[e].actual-n[e].actual:n[e].actual-a[e].actual})),a.setState({items:r,filteredItems:s})},a.handleSearch=function(e){var t=a.state.items.filter((function(t){return t.name.toLowerCase().includes(e.target.value.toLowerCase())}));a.setState({filteredItems:t})},a.state={items:[],cart:[],flashMessage:"",filteredItems:[]},a.timer=null,a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.setState({items:b})}},{key:"componentDidUpdate",value:function(){var e=this;""!==this.state.flashMessage?this.timer=setTimeout((function(){e.setState({flashMessage:""})}),3e3):clearTimeout(this.timer)}},{key:"render",value:function(){var e=this.state,t=e.items,n=e.filteredItems,a=e.cart,c={allItems:t,filteredItems:n,flashMessage:e.flashMessage,addToCart:this.addToCart,decreaseQuantity:this.decreaseQuantity,increaseQuantity:this.increaseQuantity,applyRange:this.applyRange,sortBy:this.sortBy,handleSearch:this.handleSearch,cart:a};return Object(v.jsx)(A.Provider,{value:c,children:Object(v.jsx)(B.a,{children:Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)(y,{}),Object(v.jsx)("div",{className:"main-container d-flex",children:Object(v.jsx)(D,{})})]})})})}}]),n}(a.Component),P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,48)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),i(e),s(e)}))},$=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return this.props.isLoggedIn?this.props.comp:"Please login"}}]),n}(a.Component);s.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)($,{isLoggedIn:!0,comp:Object(v.jsx)(L,{})})}),document.getElementById("root")),P()}},[[47,1,2]]]);
//# sourceMappingURL=main.b6c0db6d.chunk.js.map